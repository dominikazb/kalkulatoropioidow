<ng-container *ngIf="opioidToConvertToWasChosen()">
<table class="table table-striped">
  <tbody>

  <tr *ngIf="results.opioidToConvertToDoseRange.min === results.opioidToConvertToDoseRange.max">
    <td>{{results.opioidToConvertTo.description}}:</td>
    <td>{{results.opioidToConvertToDoseRange.min | number : '1.2-2'}} {{results.doseForResults}}</td>
  </tr>

  <tr *ngIf="results.opioidToConvertToDoseRange.min !== results.opioidToConvertToDoseRange.max">
    <td>{{results.opioidToConvertTo.description}}:</td>
    <td>{{results.opioidToConvertToDoseRange.min | number : '1.2-2'}}
      - {{results.opioidToConvertToDoseRange.max | number : '1.2-2'}}
      {{results.doseForResults}}
    </td>
  </tr>

  <tr *ngIf="results.opioidToConvertToIndex === methadoneIndex">
    <td>
      <span *ngIf="results.opioidToConvertToDoseRange.min === results.opioidToConvertToDoseRange.max">
        <span class="fontsize_14 darker_gray">{{opioidInfoData[methadoneIndex].methadoneDoseText1}}
          {{methadoneProposedDailyDose.min | number : '1.2-2'}}
          {{opioidInfoData[methadoneIndex].methadoneDoseText4}}</span>
      </span>
      <span *ngIf="results.opioidToConvertToDoseRange.min !== results.opioidToConvertToDoseRange.max">
        <span class="fontsize_14 darker_gray">{{opioidInfoData[methadoneIndex].methadoneDoseText1}}
          {{methadoneProposedDailyDose.min | number : '1.2-2'}} -
          {{methadoneProposedDailyDose.max | number : '1.2-2'}}
          {{opioidInfoData[methadoneIndex].methadoneDoseText4}}</span>
      </span>
    </td>
  </tr>

  <ng-container *ngIf="results.doseReduction > 0">
    <tr>
      <td>Dawka zredukowana o {{results.doseReduction}}%:</td>
      <td *ngIf="results.opioidToConvertToReducedDoseRange.min === results.opioidToConvertToReducedDoseRange.max">
        {{results.opioidToConvertToReducedDoseRange.min | number : '1.2-2'}} {{results.doseForResults}}
      </td>
      <td *ngIf="results.opioidToConvertToReducedDoseRange.min !== results.opioidToConvertToReducedDoseRange.max">
        {{results.opioidToConvertToReducedDoseRange.min | number : '1.2-2'}}
        - {{results.opioidToConvertToReducedDoseRange.max | number : '1.2-2'}}
        {{results.doseForResults}}
      </td>
    </tr>

    <tr *ngIf="results.opioidToConvertToIndex === methadoneIndex">
      <td colspan="2">
          <span *ngIf="results.opioidToConvertToReducedDoseRange.min === results.opioidToConvertToReducedDoseRange.max">
            <span class="fontsize_14 darker_gray">{{opioidInfoData[methadoneIndex].methadoneDoseText1}}
              {{methadoneProposedDailyDoseReduced.min | number : '1.2-2'}}
              {{opioidInfoData[methadoneIndex].methadoneDoseText4}}</span>
          </span>
        <span *ngIf="results.opioidToConvertToReducedDoseRange.min !== results.opioidToConvertToReducedDoseRange.max">
            <span class="fontsize_14 darker_gray">{{opioidInfoData[methadoneIndex].methadoneDoseText1}}
              {{methadoneProposedDailyDoseReduced.min | number : '1.2-2'}} -
              {{methadoneProposedDailyDoseReduced.max | number : '1.2-2'}} {{results.doseForResults}}</span>
          </span>
      </td>
    </tr>
  </ng-container>

  <tr *ngIf="listOfProposedBuprenorphinePlasters.length > 0">
    <td>
      {{opioidInfoData[buprenorphineTransdermalIndex].buprenorphineProposedPlastersText}}
    </td>
    <td>
      <ul *ngFor="let plaster of listOfProposedBuprenorphinePlasters">
        <li>{{plaster}}</li>
      </ul>
    </td>
  </tr>

  <tr *ngIf="listOfProposedFentanylPlasters.length > 0">
    <td>
      {{opioidInfoData[fentanylTransdermalIndex].fentanylProposedPlastersText}}
    </td>
    <td>
      <ul *ngFor="let plaster of listOfProposedFentanylPlasters">
        <li>{{plaster}}</li>
      </ul>
    </td>
  </tr>

  <ng-container *ngIf="results.opioidToConvertToIndex === methadoneIndex">
    <tr>
      <td>
        {{opioidInfoData[methadoneIndex].methadoneDoseText2}}
      </td>
      <td *ngIf="results.opioidToConvertToDoseRange.min === results.opioidToConvertToDoseRange.max">
            {{methadoneSingleDose.min | number : '1.2-2'}} {{results.doseForResults}}
      </td>
      <td *ngIf="results.opioidToConvertToDoseRange.min !== results.opioidToConvertToDoseRange.max">
            {{methadoneSingleDose.min | number : '1.2-2'}} -
            {{methadoneSingleDose.max | number : '1.2-2'}} {{results.doseForResults}}
      </td>
    </tr>

    <tr *ngIf="results.doseReduction > 0">
      <td>
        {{opioidInfoData[methadoneIndex].methadoneDoseText3}} {{results.doseReduction}}%:
      </td>
      <td *ngIf="results.opioidToConvertToDoseRange.min === results.opioidToConvertToDoseRange.max">
            {{methadoneSingleDoseReduced.min | number : '1.2-2'}} {{results.doseForResults}}
      </td>
      <td *ngIf="results.opioidToConvertToDoseRange.min !== results.opioidToConvertToDoseRange.max">
            {{methadoneSingleDoseReduced.min | number : '1.2-2'}} -
            {{methadoneSingleDoseReduced.max | number : '1.2-2'}} {{results.doseForResults}}
      </td>
    </tr>
  </ng-container>

  </tbody>
</table>


<ng-container *ngIf="results.opioidToConvertToDoseExceeded">
  <hr class="dark_line">
  <div class="row">
    <div class="col-md-1">
      <h2 class="red_color"><i class="fas fa-exclamation-triangle"></i></h2>
    </div>
    <div class="col-md-11">
      <div class="bottom_warning">
        <h6 class="red_color">
          {{this.opioidInfoData[results.opioidToConvertToIndex].warning}}
        </h6>
      </div>
    </div>
  </div>
</ng-container>
</ng-container>

<results-opioid-info
  [opioidInfoData]="opioidInfoData"></results-opioid-info>
